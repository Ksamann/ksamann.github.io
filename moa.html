<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="apple-mobile-web-app-title" content="App name" />

<meta name="apple-mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	  
    <title>Moa @ meters</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  </head>
  <body>
	<script src="moa.js"></script>
	<nav class="navbar navbar-expand-sm navbar-dark bg-success" >
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">Andersen's jakt og skyting</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Jakttider</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="moa.html">Moa kalkulator</a>
        </li>
              
      </ul>
      
    </div>
  </div>
</nav>
	<div class="container alert-primary">
		<h2 class=""> MOA kalkulator</h2>
	</div>
	
	<div class="container clearfix">
	<div class="float-end form-check form-switch">
		<input type="checkbox" class="form-check-input" role="switch" id="incrementSwitch"/>
		<label class="form-check-label" for="incrementSwitch">Stegvis (100m)</label>
	</div>
    <label for="meters" id="lblMeters">Avstand i meter: 100</label>
	
	
    <input type="range" class="form-range" id="meters" min="0" max="1000" step="1" value="100" style="width: 100%"/>

    <label for="moa" id="lblMoa">Antall MOA: 1</label><br/>
    <input type="range" class="form-range" id="moa" min="0.25" max="20" step="0.25" value="1" style="width: 50%"/><br/><hr/>
	
    <table class="table table-fixed">
        <tr>
            <td>MOA &nbsp;</td>
            <td>Meter</td>
            <td>Centimeter</td>
        </tr>
        <tr>
            <td id="Moa"></td>
            <td id="Meter"></td>
            <td id="Cm"></td>
        </tr>
    </table>
	</div>
    <p id="result" style="width: 100%; text-align: center;"></p>
    <script>
		let incrementSwitch = document.getElementById("incrementSwitch");
		incrementSwitch.onclick = function(){
			if(incrementSwitch.checked == true){
				range.value = 100;
				range.step = 100;
				update();
			}
			else{
				range.step = 1;
			}
		}
	
        let range = document.getElementById("meters");
        let rangeLabel = document.getElementById("lblMeters");

        let moa = document.getElementById("moa");
        let moaLabel = document.getElementById("lblMoa");

        let tblMoa = document.getElementById("Moa");
        let tblMeter = document.getElementById("Meter");
        let tblCm = document.getElementById("Cm");

        let result = getCM(moa.value, range.value);
        tblMoa.innerHTML = result.moa;
        tblMeter.innerHTML = result.meters;
        tblCm.innerHTML = result.cm;

        range.oninput = function(){
            update();
        }

        moa.oninput = function(){
            update();
        }
		
		function update(){
			rangeLabel.innerHTML = "Avstand i meter: " + range.value;
			moaLabel.innerHTML = "Antall MOA: " + moa.value;
            let result = getCM(moa.value, range.value);
            tblMoa.innerHTML = result.moa;
            tblMeter.innerHTML = result.meters;
            tblCm.innerHTML = result.cm;
		}

    </script>
  </body>
</html>
